!function(t){function n(n){var a,e=n.find(".table").get(0),l=n.find("[data-target='map-type']").val();if(a="usa"===l?n.find("[data-target='json-usa']").val():n.find("[data-target='json-world']").val()){var i=JSON.parse(a);o(n,e,i,l)}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+l+".json";t.getJSON(r,function(t){o(n,e,t,l)})}}function a(n,a){var o,e,l=(n.find(".table").get(0),n.data("hot"));if("usa"===a?(e=n.find("[data-target='json-usa']").val(),o=["fips","State","Value"]):(e=n.find("[data-target='json-world']").val(),o=["fips","Country","Value"]),e){var i=JSON.parse(e);l.updateSettings({colHeaders:o}),l.loadData(i),l.render()}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+a+".json";t.getJSON(r,function(t){l.updateSettings({colHeaders:o}),l.loadData(t),l.render()})}}function o(t,n,a,o){var l=["fips","Country","Value"];"usa"===o&&(l=["fips","State","Value"]);var i=new Handsontable(n,{data:a,rowHeaders:!1,fixedRowsTop:0,colHeaders:l,columns:[{data:"fips",readOnly:!0},{data:"State",readOnly:!0},{data:"Value"}],columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(n,a){var o=this.getData();e(t,o),"loadData"!==a&&t.trigger("render")},afterLoadData:function(){var n=this.getData();e(t,n)},afterInit:function(){t.trigger("render")}});t.data("hot",i)}function e(t,n,a){var o=n,e=JSON.stringify(o),l=t.find("[data-target='map-type']").val();t.find("[data-target='json-"+l+"']").val(e)}t("#snowball-main").on("open",".snowball-block-choropleth",function(){var a=t(this),o=a.find("[data-target='quantize']").val();t(this).find(".quantize-output").text(o),n(a)}),t("#snowball-main").on("rendered",".snowball-block-choropleth",function(){var n=t(this),a=n.find(".snowball-preview"),o=a.contents().find(".map"),e=a[0].contentWindow.drawMap;o&&e&&e(a.contents().find(".snowball-block-choropleth"))}),t("#snowball-main").on("change",".snowball-block-choropleth [data-target='map-type']",function(){var n=t(this).closest(".snowball-block-choropleth"),o=t(this).val();a(n,o)}),t("#snowball-main").on("input change",".snowball-block-choropleth [data-target='quantize']",function(){var n=t(this).closest(".snowball-block-choropleth"),a=(n.data("hot"),t(this).val());n.find(".quantize-output").text(a)})}(jQuery),function(t){function n(t){var n=/google.com\/maps\/.*@(-?\d+.\d+),(-?\d+.\d+),(\d+)([mz])/,o=n.exec(t);if(null!==o){var e=o[3],l=o[4],i="600x400";return"m"===l?(l="satellite",e=a(e)):l="roadmap",{lat:o[1],lon:o[2],maptype:l,zoom:e,size:i}}}function a(t){var n=56819712,a=n/parseInt(t,10);return a=Math.round(1+Math.log(a)/Math.LN2)}t("#snowball-main").on("open",".snowball-block-googlemaps",function(){var n=t(this).find(".zoom").val();t(this).find(".zoom-output").text(n)}),t("#snowball-main").on("change keyup",".snowball-block-googlemaps .map-user",function(){var a=t(this).closest(".snowball-block-googlemaps"),o=t(this).val(),e=n(o);a.find("[data-target='lat']").val(e.lat),a.find("[data-target='lon']").val(e.lon),a.find("[data-target='zoom']").val(e.zoom),a.find(".zoom-output").text(e.zoom),a.find("[data-target='maptype'][value='"+e.maptype+"']").prop("checked",!0),a.trigger("render")}),t("#snowball-main").on("input change",".snowball-block-googlemaps .zoom",function(){var n=t(this).closest(".snowball-block-googlemaps"),a=t(this).val();n.find(".zoom-output").text(a)})}(jQuery),function(t){t("#snowball-main").on("open",".snowball-block-html",function(){var n=t(this),a=n.find("textarea"),o=CodeMirror.fromTextArea(a[0],{mode:"htmlmixed",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,theme:"monokai"});o.setSize("100%","100%"),o.on("change",function(){o.save(),a.trigger("change")})})}(jQuery),function(t){t("#snowball-main").on("open",".snowball-block-image",function(){var n=t(this).find(".img-border-radius").val()+"%";t(this).find(".img-border-radius-output").text(n)}),t(document).ready(function(){var n;t("#snowball-main").on("click",".snowball-block-image .upload-image-button",function(){var a=t(this).closest(".snowball-block");return n=t(".snowball-block").index(a),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(a){var o=t(".snowball-block").eq(n);imgurl=t("img",a).attr("src"),o.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1}),t("#snowball-main").on("input change",".snowball-block-image .img-border-radius",function(){var n=t(this).closest(".snowball-block-image"),a=t(this).val()+"%";n.find(".img-border-radius-output").text(a),n.trigger("render")})})}(jQuery),function(t){function n(n){var o=n.find(".table").get(0),e=n.find("[data-target='json']").val();if(e){var l=JSON.parse(e);a(n,o,l)}else{var i=snowball.pluginsUrl+"/modules/scatterplot/snowline.json";t.getJSON(i,function(t){a(n,o,t)})}}function a(t,n,a){var e=["Label","X","Y"],l=[{data:"Label",type:"text"},{data:"X",type:"numeric"},{data:"Y",type:"numeric"}],i=new Handsontable(n,{data:a,rowHeaders:!1,fixedRowsTop:0,colHeaders:e,columns:l,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(n,a){var e=this.getData();o(t,e),"loadData"!==a&&t.trigger("render")},afterLoadData:function(){var n=this.getData();o(t,n)},afterInit:function(){t.trigger("render")}});t.data("hot",i)}function o(t,n,a){var o=n,e=JSON.stringify(o);t.find("[data-target='json']").val(e)}t("#snowball-main").on("open",".snowball-block-scatterplot",function(){var a=t(this),o=t(this).find(".size").val()+"px";t(this).find(".size-output").text(o),n(a)}),t("#snowball-main").on("input change",".snowball-block-scatterplot .size",function(){var n=t(this).closest(".snowball-block-scatterplot"),a=t(this).val()+"px";n.find(".size-output").text(a),n.trigger("render")}),t("#snowball-main").on("rendered",".snowball-block-scatterplot",function(){var n=t(this),a=n.find(".snowball-preview"),o=a.contents().find(".chart"),e=a[0].contentWindow.drawScatterplot;o&&e&&e(a.contents().find(".snowball-block-scatterplot"))})}(jQuery),function(t){var n=0;t("#snowball-main").on("open",".snowball-block-splash",function(){var a=t(this).find("textarea"),o="snowball-block-splash-textarea-"+n;a.attr("id",o),n++,quicktags({id:o,buttons:"strong,em,link,blockquote,del,code,close"}),QTags._buttonsInit()}),t("#snowball-main").on("click",".snowball-block-splash .quicktags-toolbar .button",function(){t(this).closest(".snowball-block").trigger("render")}),t(document).ready(function(){var n;t("#snowball-main").on("click",".snowball-block-splash .upload-image-button",function(){var a=t(this).closest(".snowball-block");return n=t(".snowball-block").index(a),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(a){var o=t(".snowball-block").eq(n);imgurl=t("img",a).attr("src"),o.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1})})}(jQuery),function(t){function n(t,n){var o=JSON.stringify(n);t.find("[data-target='JSON']").val(o),t.find("[data-target='HTML']").val(a(n)),t.trigger("render")}function a(t){for(var n="  <table>\n",a=t.length,o=0;a>o;o++){0===o?n+="    <thead>\n":1===o&&(n+="    </thead>\n    <tbody>\n"),n+="      <tr>\n";for(var e=0;e<t[o].length;e++)null===t[o][e]&&(t[o][e]=""),n=0===o?n+"        <th>"+t[o][e]+"</th>\n":n+"        <td>"+t[o][e]+"</td>\n";n+="      </tr>\n"}return n+="    </tbody>\n  </table>"}t("#snowball-main").on("open",".snowball-block-table",function(){{var a=t(this),o=a.find(".table").get(0),e=JSON.parse(a.find("[data-target='JSON']").val());new Handsontable(o,{data:e,rowHeaders:!1,fixedRowsTop:1,colHeaders:!0,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t){n(a,e)},afterCreateRow:function(t){n(a,e)},afterCreateCol:function(t){n(a,e)},afterRemoveRow:function(t){n(a,e)},afterRemoveCol:function(t){n(a,e)}})}})}(jQuery),function(t){var n=0;QTags.addButton("eg_hr","hr","<hr />","","h","Horizontal rule line",70),t("#snowball-main").on("open",".snowball-block-text",function(){var a=t(this).find("textarea"),o="snowball-block-text-textarea-"+n;a.attr("id",o),n++,quicktags({id:o,buttons:"strong,em,link,blockquote,del,code,ul,ol,li,code,close"}),QTags._buttonsInit()}),t("#snowball-main").on("click",".snowball-block-text .quicktags-toolbar .button",function(){t(this).closest(".snowball-block").trigger("render")})}(jQuery),function(t){function n(t){var n;n=t.indexOf("embed")>=0?/youtube.com.*embed\/(\S*)"/:/youtube.com.*v=(.*)/;var a=n.exec(t);return a[1]}t("#snowball-main").on("open",".snowball-block-youtube",function(){var a=t(this).find(".video-url").val(),o=n(a);t(this).find(".video-id").val(o),t(this).trigger("render")}),t("#snowball-main").on("change keyup",".snowball-block-youtube .video-url",function(){var a=t(this).closest(".snowball-block-youtube"),o=t(this).val(),e=n(o);a.find(".video-id").val(e),a.trigger("render")})}(jQuery);
//# sourceMappingURL=admins.min.js.map