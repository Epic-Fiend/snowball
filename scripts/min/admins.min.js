!function(t){function n(n){var o,e=n.find(".table").get(0),l=n.find("[data-target='map-type']").val();if(o="usa"===l?n.find("[data-target='json-usa']").val():n.find("[data-target='json-world']").val()){var i=JSON.parse(o);a(n,e,i,l)}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+l+".json";t.getJSON(r,function(t){a(n,e,t,l)})}}function o(n,o){var a,e,l=(n.find(".table").get(0),n.data("hot"));if("usa"===o?(e=n.find("[data-target='json-usa']").val(),a=["fips","State","Value"]):(e=n.find("[data-target='json-world']").val(),a=["fips","Country","Value"]),e){var i=JSON.parse(e);l.updateSettings({colHeaders:a}),l.loadData(i),l.render()}else{var r=snowball.pluginsUrl+"/modules/choropleth/precipitation-"+o+".json";t.getJSON(r,function(t){l.updateSettings({colHeaders:a}),l.loadData(t),l.render()})}}function a(t,n,o,a){var l=["fips","Country","Value"];"usa"===a&&(l=["fips","State","Value"]);var i=new Handsontable(n,{data:o,rowHeaders:!1,fixedRowsTop:0,colHeaders:l,columns:[{data:"fips",readOnly:!0},{data:"State",readOnly:!0},{data:"Value"}],columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(n,o){var a=this.getData();e(t,a),"loadData"!==o&&t.trigger("render")},afterLoadData:function(){var n=this.getData();e(t,n)},afterInit:function(){t.trigger("render")}});t.data("hot",i)}function e(t,n,o){var a=n,e=JSON.stringify(a),l=t.find("[data-target='map-type']").val();t.find("[data-target='json-"+l+"']").val(e)}t("#snowball-main").on("open",".snowball-block-choropleth",function(){var o=t(this),a=o.find("[data-target='quantize']").val();t(this).find(".quantize-output").text(a),n(o)}),t("#snowball-main").on("rendered",".snowball-block-choropleth",function(){var n=t(this),o=n.find(".snowball-preview"),a=o.contents().find(".map"),e=o[0].contentWindow.drawMap;a&&e&&e(o.contents().find(".snowball-block-choropleth"))}),t("#snowball-main").on("change",".snowball-block-choropleth [data-target='map-type']",function(){var n=t(this).closest(".snowball-block-choropleth"),a=t(this).val();o(n,a)}),t("#snowball-main").on("input change",".snowball-block-choropleth [data-target='quantize']",function(){var n=t(this).closest(".snowball-block-choropleth"),o=(n.data("hot"),t(this).val());n.find(".quantize-output").text(o)})}(jQuery),function(t){function n(t){var n=/google.com\/maps\/.*@(-?\d+.\d+),(-?\d+.\d+),(\d+)([mz])/,a=n.exec(t);if(null!==a){var e=a[3],l=a[4],i="600x400";return"m"===l?(l="satellite",e=o(e)):l="roadmap",{lat:a[1],lon:a[2],maptype:l,zoom:e,size:i}}}function o(t){var n=56819712,o=n/parseInt(t,10);return o=Math.round(1+Math.log(o)/Math.LN2)}t("#snowball-main").on("open",".snowball-block-googlemaps",function(){var n=t(this).find(".zoom").val();t(this).find(".zoom-output").text(n)}),t("#snowball-main").on("change keyup",".snowball-block-googlemaps .map-user",function(){var o=t(this).closest(".snowball-block-googlemaps"),a=t(this).val(),e=n(a);o.find("[data-target='lat']").val(e.lat),o.find("[data-target='lon']").val(e.lon),o.find("[data-target='zoom']").val(e.zoom),o.find(".zoom-output").text(e.zoom),o.find("[data-target='maptype'][value='"+e.maptype+"']").prop("checked",!0),o.trigger("render")}),t("#snowball-main").on("input change",".snowball-block-googlemaps .zoom",function(){var n=t(this).closest(".snowball-block-googlemaps"),o=t(this).val();n.find(".zoom-output").text(o)})}(jQuery),function(t){t("#snowball-main").on("open",".snowball-block-html",function(){var n=t(this),o=n.find("textarea");window.editor=CodeMirror.fromTextArea(o[0],{mode:{name:"xml",htmlMode:!0},lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,theme:"monokai"}),editor.setSize("100%","100%"),editor.on("change",function(){editor.save(),o.trigger("change")})})}(jQuery),function(t){t("#snowball-main").on("open",".snowball-block-image",function(){var n=t(this).find(".img-border-radius").val()+"%";t(this).find(".img-border-radius-output").text(n)}),t(document).ready(function(){var n;t("#snowball-main").on("click",".snowball-block-image .upload-image-button",function(){var o=t(this).closest(".snowball-block");return n=t(".snowball-block").index(o),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(o){var a=t(".snowball-block").eq(n);imgurl=t("img",o).attr("src"),a.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1}),t("#snowball-main").on("input change",".snowball-block-image .img-border-radius",function(){var n=t(this).closest(".snowball-block-image"),o=t(this).val()+"%";n.find(".img-border-radius-output").text(o),n.trigger("render")})})}(jQuery),function(t){var n=0;t("#snowball-main").on("open",".snowball-block-splash",function(){var o=t(this).find("textarea"),a="snowball-block-splash-textarea-"+n;o.attr("id",a),n++,quicktags({id:a,buttons:"strong,em,link,blockquote,del,code,close"}),QTags._buttonsInit()}),t("#snowball-main").on("click",".snowball-block-splash .quicktags-toolbar .button",function(){t(this).closest(".snowball-block").trigger("render")}),t(document).ready(function(){var n;t("#snowball-main").on("click",".snowball-block-splash .upload-image-button",function(){var o=t(this).closest(".snowball-block");return n=t(".snowball-block").index(o),tb_show("","media-upload.php?type=image&TB_iframe=true"),window.original_send_to_editor=window.send_to_editor,window.send_to_editor=function(o){var a=t(".snowball-block").eq(n);imgurl=t("img",o).attr("src"),a.find(".upload-image").val(imgurl).trigger("change"),tb_remove(),window.send_to_editor=window.original_send_to_editor},!1})})}(jQuery),function(t){function n(t,n){var a=JSON.stringify(n);t.find("[data-target='JSON']").val(a),t.find("[data-target='HTML']").val(o(n)),t.trigger("render")}function o(t){for(var n="  <table>\n",o=t.length,a=0;o>a;a++){0===a?n+="    <thead>\n":1===a&&(n+="    </thead>\n    <tbody>\n"),n+="      <tr>\n";for(var e=0;e<t[a].length;e++)null===t[a][e]&&(t[a][e]=""),n=0===a?n+"        <th>"+t[a][e]+"</th>\n":n+"        <td>"+t[a][e]+"</td>\n";n+="      </tr>\n"}return n+="    </tbody>\n  </table>"}t("#snowball-main").on("open",".snowball-block-table",function(){{var o=t(this),a=o.find(".table").get(0),e=JSON.parse(o.find("[data-target='JSON']").val());new Handsontable(a,{data:e,rowHeaders:!1,fixedRowsTop:1,colHeaders:!0,columnSorting:!1,manualColumnMove:!1,manualColumnResize:!1,contextMenu:!0,multiSelect:!0,persistantState:!0,fillHandle:!0,observeChanges:!0,search:!0,undo:!0,readOnly:!1,stretchH:"all",afterChange:function(t){n(o,e)},afterCreateRow:function(t){n(o,e)},afterCreateCol:function(t){n(o,e)},afterRemoveRow:function(t){n(o,e)},afterRemoveCol:function(t){n(o,e)}})}})}(jQuery),function(t){var n=0;QTags.addButton("eg_hr","hr","<hr />","","h","Horizontal rule line",70),t("#snowball-main").on("open",".snowball-block-text",function(){var o=t(this).find("textarea"),a="snowball-block-text-textarea-"+n;o.attr("id",a),n++,quicktags({id:a,buttons:"strong,em,link,blockquote,del,code,ul,ol,li,code,close"}),QTags._buttonsInit()}),t("#snowball-main").on("click",".snowball-block-text .quicktags-toolbar .button",function(){t(this).closest(".snowball-block").trigger("render")})}(jQuery),function(t){function n(t){var n;n=t.indexOf("embed")>=0?/youtube.com.*embed\/(\S*)"/:/youtube.com.*v=(.*)/;var o=n.exec(t);return o[1]}t("#snowball-main").on("open",".snowball-block-youtube",function(){var o=t(this).find(".video-url").val(),a=n(o);t(this).find(".video-id").val(a),t(this).trigger("render")}),t("#snowball-main").on("change keyup",".snowball-block-youtube .video-url",function(){var o=t(this).closest(".snowball-block-youtube"),a=t(this).val(),e=n(a);o.find(".video-id").val(e),o.trigger("render")})}(jQuery);
//# sourceMappingURL=admins.min.js.map